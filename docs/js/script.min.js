function snow(){let e,t,r=[],i=100;function n(){this.x=Math.random()*(e.width+i)-50,this.y=Math.random()*(e.height+i)-50,this.z=.5*Math.random()+.5,this.vx=(2*Math.random()-.5)*this.z,this.vy=(1.5*Math.random()+1.5)*this.z,this.fill="rgba(255,255,255,"+(.5*Math.random()+.5)+")",this.dia=(2.5*Math.random()+1.5)*this.z,r.push(this)}const o=e=>{let t;for(let r=0;r<e;r++)t=new n;console.log(r)},s=t=>{t.x+=t.vx,t.y+=t.vy,t.x>e.width+50?t.x=-50:t.xpos<-50&&(t.x=e.width+50),t.y>e.height+50?t.y=-50:t.y<-50&&(t.y=e.height+50)},l=()=>{t.clearRect(0,0,e.width,e.height);for(let e=0;e<r.length;e++)i=r[e],t.beginPath(),t.strokeStyle="transparent",t.fillStyle=i.fill,t.arc(i.x,i.y,i.dia,0,2*Math.PI),t.closePath(),t.stroke(),t.fill(),s(r[e]);var i},a=()=>{e.width=window.innerWidth,e.height=window.innerHeight,l()};document.addEventListener("DOMContentLoaded",(()=>{e=document.getElementById("canvas"),t=e.getContext("2d"),a(),o(700),l(),setInterval(l,25),window.addEventListener("resize",a,!1)}),!1)}snow();const prizes=[{text:"10% Off ",color:"#006989",probability:.5},{text:"Free Website",color:"#A3BAC3",probability:.05},{text:"Free hosting 6 months",color:"#EAEBED",probability:.15},{text:"Free hosting for 1 month",color:"#8380B6",probability:.3},{text:"Free hosting 2 months",color:"#45F0DF",probability:.05},{text:"Free hosting 3 months",color:"#F2A65A",probability:.05},{text:"Free hosting 4 months",color:"#E63946",probability:.05}],wheel=document.querySelector(".content__deal-wheel"),spinner=wheel.querySelector(".content__spinner"),trigger=wheel.querySelector(".btn-spin"),ticker=wheel.querySelector(".ticker"),prizeSlice=360/prizes.length,prizeOffset=Math.floor(180/prizes.length),spinClass="is-spinning",selectedClass="selected",spinnerStyles=window.getComputedStyle(spinner);let tickerAnim,prizeNodes,rotation=0,currentSlice=0;const createPrizeNodes=()=>{prizes.forEach((({text:e,color:t},r)=>{const i=prizeSlice*r*-1-prizeOffset;spinner.insertAdjacentHTML("beforeend",`<li class="prize" style="--rotate: ${i}deg">\n\t\t\t\t<span class="text">${e}</span>\n\t  \t\t</li>`)}))},createConicGradient=()=>{spinner.setAttribute("style",`background: conic-gradient(\n\t  \t\tfrom -90deg,\n\t  \t\t${prizes.map((({color:e},t)=>`${e} 0 ${100/prizes.length*(prizes.length-t)}%`)).reverse()}\n\t\t);`)},rotate=()=>{let e=prizes[0],t=[];for(let e=0;e<prizes.length;e++)for(let r=0;r<100*prizes[e].probability;r++)t.push(e);let r=t[Math.floor(Math.random()*t.length)];e=prizes[r];let i=Math.floor(4*Math.random())+3,n=r*prizeSlice,o=Math.floor(Math.random()*prizeSlice);return console.log("You won: "+e.text),console.log("The wheel turns "+(360*i+n+o)+"° ("+i+" full spin + "+n+"° + "+o+"°)"),360*i+n+o+90},setupWheel=()=>{spinner.setAttribute("style",`background: conic-gradient(\n\t  \t\tfrom -90deg,\n\t  \t\t${prizes.map((({color:e},t)=>`${e} 0 ${100/prizes.length*(prizes.length-t)}%`)).reverse()}\n\t\t);`),prizes.forEach((({text:e,color:t},r)=>{const i=prizeSlice*r*-1-prizeOffset;spinner.insertAdjacentHTML("beforeend",`<li class="prize" style="--rotate: ${i}deg">\n\t\t\t\t<span class="text">${e}</span>\n\t  \t\t</li>`)})),prizeNodes=wheel.querySelectorAll(".prize")},runTickerAnimation=()=>{const e=spinnerStyles.transform.split("(")[1].split(")")[0].split(","),t=e[0],r=e[1];let i=Math.atan2(r,t);i<0&&(i+=2*Math.PI);const n=Math.round(i*(180/Math.PI)),o=Math.floor((n-90)/prizeSlice);currentSlice!==o&&(ticker.style.animation="none",setTimeout((()=>ticker.style.animation=null),10),currentSlice=o),tickerAnim=requestAnimationFrame(runTickerAnimation)},selectPrize=()=>{const e=Math.floor((rotation-90)/prizeSlice);prizeNodes[e].classList.add("selected")};trigger.addEventListener("click",(()=>{trigger.disabled=!0,rotation=Math.floor(rotate()),prizeNodes.forEach((e=>e.classList.remove("selected"))),wheel.classList.add(spinClass),spinner.style.setProperty("--rotate",rotation),ticker.style.animation="none",runTickerAnimation()})),spinner.addEventListener("transitionend",(()=>{cancelAnimationFrame(tickerAnim),trigger.focus(),rotation%=360,selectPrize(),wheel.classList.remove(spinClass),spinner.style.setProperty("--rotate",rotation)})),spinner.setAttribute("style",`background: conic-gradient(\n\t  \t\tfrom -90deg,\n\t  \t\t${prizes.map((({color:e},t)=>`${e} 0 ${100/prizes.length*(prizes.length-t)}%`)).reverse()}\n\t\t);`),prizes.forEach((({text:e,color:t},r)=>{const i=prizeSlice*r*-1-prizeOffset;spinner.insertAdjacentHTML("beforeend",`<li class="prize" style="--rotate: ${i}deg">\n\t\t\t\t<span class="text">${e}</span>\n\t  \t\t</li>`)})),prizeNodes=wheel.querySelectorAll(".prize");